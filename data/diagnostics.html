<!DOCTYPE html>
<html lang="en">
<!-- The HTML markup is based on the main page of Tasmota -->

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <title>Owie - Status</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            function reloadData() {
                const xhr = new XMLHttpRequest();
                xhr.addEventListener("load", function (evt) {
                    var parsed = JSON.parse(evt.target.responseText);
                    for (const key in parsed) {
                        var el = document.getElementById(key);
                        if (el) {
                            el.innerHTML = parsed[key];
                        }
                    }
                    setTimeout(reloadData, 100);
                });
                xhr.open("GET", "/autoupdate");
                xhr.send();
            }
            reloadData();
        });
    //# sourceURL=index.js
    </script>
</head>

<body>
    <div style="text-align:left;display:inline-block;color:#eaeaea;min-width:340px;">
        <div id="statusHeader" style="text-align:center;color:#eaeaea;margin-bottom:10px;">
            <h2>Owie Status</h2>
            (%DISPLAY_AP_NAME%)
        </div>
        <div id="content">
            <table>
                <tr>
                    <th>Battery Voltage</th>
                    <td id="TOTAL_VOLTAGE">%TOTAL_VOLTAGE%v</td>
                </tr>
                <tr>
                    <th>Current</th>
                    <td id="CURRENT_AMPS">%CURRENT_AMPS% Amps</td>
                </tr>
                <tr>
                    <th>BMS reported SOC:</th>
                    <td id="BMS_SOC">%BMS_SOC%%%</td>
                </tr>
                <tr>
                    <th>Overridden SOC:</th>
                    <td id="OVERRIDDEN_SOC">%OVERRIDDEN_SOC%%%</td>
                </tr>
                <tr>
                    <th>Voltage SOC:</th>
                    <td id="VOLTAGE_SOC">%VOLTAGE_SOC%%%</td>
                </tr>
                <tr>
                    <th>Amperage SOC:</th>
                    <td id="AMPERAGE_SOC">%AMPERAGE_SOC%%%</td>
                </tr>
                <tr>
                    <th>Battery Capacity:</th>
                    <td id="BATTERY_MAH">%BATTERY_MAH% mAh</td>
                </tr>
                <tr>
                    <th>Est. Charge Remaining:</th>
                    <td id="REMAINING_CHARGE">%REMAINING_CHARGE% mAh</td>
                </tr>
                <tr>
                    <th>Charge State:</th>
                    <td id="CHARGE_STATE_MAH">%CHARGE_STATE_MAH% mAh</td>
                </tr>
                <tr>
                    <th>Used charge:</th>
                    <td id="USED_CHARGE_MAH">%USED_CHARGE_MAH% mAh</td>
                </tr>
                <tr>
                    <th>Regen:</th>
                    <td id="REGENERATED_CHARGE_MAH">%REGENERATED_CHARGE_MAH% mAh</td>
                </tr>
                <tr>
                    <th>Uptime:</th>
                    <td id="UPTIME">%UPTIME%</td>
                </tr>
                <tr>
                    <th>Power cycles:</th>
                    <td>%GRACEFUL_SHUTDOWN_COUNT%</td>
                </tr>
                <tr>
                    <th>Cell voltages</th>
                    <td>
                        <table class="cell-voltages" id="CELL_VOLTAGE_TABLE">%CELL_VOLTAGE_TABLE%</table>
                    </td>
                </tr>
                <tr>
                    <th>Battery/BMS Temps</th>
                    <td>
                        <table class="cell-voltages" id="TEMPERATURE_TABLE">%TEMPERATURE_TABLE%</table>
                    </td>
                </tr>
            </table>
            <hr>
        </div>
        <div id="version" style="text-align:right;font-size:11px;">
            <hr>
            <p style="color:#aaa;">Owie <span id="OWIE_version">%OWIE_version%</span></p>
        </div>
    </div>
</body>

</html>